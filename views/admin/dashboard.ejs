<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NYRAH Admin Dashboard</title>

    <link rel="stylesheet" href="/admin/dashboard.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<div class="container">

    <%- include('../../views/partials/admin/side')%>

    <main class="main">

        <%- include('../../views/partials/admin/header')%>

        <h2 class="section-title">Today's Sales</h2>

        <div class="top-cards">
            <div class="card pink">
                <h3>â‚¹ 19k</h3>
                <p>Revenue</p>
            </div>
            <div class="card green">
                <h3>300</h3>
                <p>Sold</p>
            </div>
            <div class="card purple">
                <h3>50</h3>
                <p>Customers</p>
            </div>
            <div class="card yellow">
                <h3>15</h3>
                <p>Returns</p>
            </div>
        </div>

        <div class="two-col">

            <div class="analytics box">
                <h3>Customer Growth</h3>
                <canvas id="donutChart"></canvas>
            </div>

            <div class="analytics box">
                <h3>Product Sold</h3>
                <canvas id="lineChart" width="500" height="350"></canvas>
            </div>
        </div>

        <div class="large-graph box">
            <h3>Total Revenue</h3>
            <canvas id="revenueChart" width="600" height="400"></canvas>
        </div>

    </main>

</div>

<script>
new Chart(document.getElementById('donutChart'), {
    type: 'doughnut',
    data: {
        labels: ["New", "Returning"],
        datasets: [{
            data: [60, 40],
            backgroundColor: ["#4CAF50", "#FFEB3B"],
            borderWidth: 0
        }]
    },
    options: { responsive: false }
});

new Chart(document.getElementById('lineChart'), {
    type: 'line',
    data: {
        labels: ["Mon", "Tue", "Wed", "Thu", "Fri"],
        datasets: [{
            label: "Sales",
            data: [50, 70, 40, 90, 120],
            borderColor: "#6a00ff",
            borderWidth: 2,
            tension: 0.3
        }]
    },
    options: { responsive: false }
});

new Chart(document.getElementById('revenueChart'), {
    type: 'bar',
    data: {
        labels: ["Jan", "Feb", "Mar", "Apr", "May"],
        datasets: [{
            label: "Revenue",
            data: [20000, 25000, 18000, 30000, 35000],
            backgroundColor: "#ffb347"
        }]
    },
    options: { responsive: false }
});

const profileBtn = document.getElementById('profileBtn');
const profileMenu = document.getElementById('profileMenu');

profileBtn.addEventListener('click', function(e){
    e.stopPropagation(); 
    if(profileMenu.style.display === 'flex'){
        profileMenu.style.display = 'none';
    } else {
        profileMenu.style.display = 'flex';
    }
});

window.addEventListener('click', function(e){
    if(!profileBtn.contains(e.target)){
        profileMenu.style.display = 'none';
    }
});
</script>
</body>
</html>
